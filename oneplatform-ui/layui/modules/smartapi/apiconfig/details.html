<!DOCTYPE html>
<html>
 <head> 
  <meta charset="UTF-8" /> 
  <title>接口明细</title> 
  <link rel="stylesheet" href="/assets/js/layui/css/layui.css" media="all" />
  <link rel="stylesheet" href="/assets/css/global.css" media="all">
  <link rel="stylesheet" href="/assets/js/font-awesome/css/font-awesome.min.css">
 </head> 
 <body> 
  <div class="admin-main" dataLoad="/api/apiconfig/details/{id}" onFinishCallback="onDataLoadedCallback">  
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
     <legend>基本信息</legend>
  </fieldset>
  <form class="layui-form">  
   <input type="hidden" name="id" bindAttr="id" />
    <div class="layui-form-item">
		<label class="layui-form-label">接口名称</label>
		<div class="layui-input-block">
           <input type="text" bindAttr="name" class="layui-input" style="background-color: #E8E8E8" disabled>
		</div>
	</div> 
	<div class="layui-form-item">
		<label class="layui-form-label">请求方法</label>
		<div class="layui-input-block">
           <input type="text" bindAttr="httpType" class="layui-input" style="background-color: #E8E8E8" disabled>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">请求uri</label>
		<div class="layui-input-block">
           <input type="text" bindAttr="uri" class="layui-input" style="background-color: #E8E8E8" disabled>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">关联数据库</label>
		<div class="layui-input-block">
           <input type="text" bindAttr="datasource" class="layui-input" style="background-color: #E8E8E8" disabled>
		</div>
	</div>
   </form> 
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
     <legend>操作集</legend>
  </fieldset>
  <table class="layui-table" lay-size="sm" style="margin-left: 20px;width: 98%;">
  <thead>
    <tr>
      <th width="100">步骤名</th>
      <th>执行SQL</th>
      <th width="100">结果属性名</th>
      <th width="100">期望结果</th>
      <th width="120">错误提示</th>
    </tr> 
  </thead>
  <tbody bindAttr="template:actions_tpl">
     <script type="text/html" id="actions_tpl">
     {{# layui.each(d.actions, function(index, item){ }}
     <tr>
       <td>{{ item.comment ? item.comment : ('步骤' + (index+1))}}</td>
       <td>{{ item.dbOperateSql }}</td>
       <td>{{ item.resultName ? item.resultName : '无'}}</td>
       <td>{{ item.expectResult ? item.expectResult : '无'}}</td>
       <td>{{ item.unexpectMsg ? item.unexpectMsg : '无'}}</td>
     </tr>
    {{# }); }}
 </script>
  </tbody>
</table>
  
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
     <legend>请求参数</legend>
  </fieldset>
  <form class="layui-form">
  <table class="layui-table" lay-size="sm" style="margin-left: 20px;width: 98%;">
  <thead>
    <tr>
      <th width="100">参数名</th>
      <th width="100">参数类型</th>
      <th width="100">参数格式</th>
      <th width="100">是否必填</th>
      <th width="120">默认值</th>
    </tr> 
  </thead>
  <tbody bindAttr="template:parameters_tpl">
    <script type="text/html" id="parameters_tpl">
     {{# layui.each(d.parameters, function(index, item){ }}
     <tr>
      <td>{{ item.name }}</td>
      <td>{{ item.dataType ? item.dataType : 'string'}}</td>
      <td>{{ item.paramType }}</td>
      <td><input type="checkbox" lay-skin="switch" lay-text="是|否" {{ d.required ? 'checked' : '' }} disabled /></td>
      <td>{{ item.defaultValue ? item.defaultValue : ''}}</td>
    </tr>
    {{# }); }}
 </script>
  </tbody>
</table>
</form>
  
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
     <legend>响应实例</legend>
  </fieldset>
    <pre class="layui-code" lay-title="JSON" lay-skin="notepad">
    {
      "code": 200,
      "msg": "OK",
      "data": {}
    }
      </pre>
      
  </div> 
  
  <div id="configdialog" style="display:none;">
  <form id="configForm" class="layui-form" action="" style="padding: 20px;" lay-filter="configForm"></form>
  </div>
 </body>
 <script type="text/javascript" src="/assets/js/layui/layui.js"></script>  
<script>
	var tables = {};
	layui.config({
		version : "1.0.0",
		base : '/assets/js/modules/'
	}).use('smartapi');
	
	function onDataLoadedCallback(data){
		
	}
</script>
</html>